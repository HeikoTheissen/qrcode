<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>

<head>
	<meta http-equiv='Content-Type' content='text/html;charset=UTF-8' />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script type="module"
		src="https://sap.github.io/ui5-webcomponents/assets/js/ui5-webcomponents/bundle.esm.js"></script>
	<script type="text/javascript" src="QRCode.js"></script>
</head>

<body>
	<ui5-barcode-scanner-dialog id="dlgScan"></ui5-barcode-scanner-dialog>
	<ui5-button id="btnScan" icon="camera" tooltip="Start Camera">Scan</ui5-button>
	<br />
	<input name="bic" value="COLSDE33XXX"/>
	<br />
	<img is="ui5-qrcode" ecclevel="M" />
	<script type="text/javascript">
		btnScan.addEventListener("click", function(event) {
			dlgScan.show();
		});
		dlgScan.addEventListener("scan-success", function (event) {
			var giro = event.detail.text.split("\n");
			giro[4] = document.querySelector("input").value;
			document.querySelector("img").setAttribute("data", giro.join("\n"));
			dlgScan.close();
		});
	</script>
</body>

</html>